<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
<input type="button" value="go" id="go" />
<script>
    var pr;
    function go() {
        (pr = new Promise(function(resolve, reject){
            var a = 1, b = 1;
            setTimeout(function(){
                if (a == b) {
                    console.log('asdf');
                    resolve("arg for resolve");
                    console.log('zxcv');
                    resolve("arg for resolve second time");
                } else {
                    console.log('asdf111');
                    reject(new Error("arg for reject"));
                    console.log('zxcv111');
                }
            }, 1000);
        })).then(function(result){
            console.log('then later, result: ', result);
        }).catch(function(result){
            console.log('catch , result: ', result);
        });

        pr.then(function(result){
            console.log('then later, result: ', result);
        }).catch(error => {
            console.log('catch later, result: ', error);
    });

    }

    document.querySelector("#go").addEventListener('click', go);
</script>
</body>
</html>